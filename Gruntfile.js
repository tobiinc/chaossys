'use strict';var sys = {    host: 'localhost',    port: 8889,    liveReload: 9999};module.exports = function (grunt) {    require('load-grunt-tasks')(grunt);    grunt.initConfig({        watch: {            // application files            html: {                files: ['app/**/*.html'],                options: {                    livereload: sys.liveReload                }            },            js: {                files: ['app/**/*.js'],                tasks: ['jshint'],                options: {                    livereload: sys.liveReload                }            },            less: {                files: ['app/styles/less/**/*.less'],                tasks: ['clean', 'less'],                options: {                    livereload: sys.liveReload                }            },            css: {                files: ['app/**/*.css'],                options: {                    livereload: sys.liveReload                }            },            // tests            jsTest: {                files: ['test/**/*.js'],                tasks: ['jshint']            },            gruntfile: {                files: ['Gruntfile.js'],                tasks: ['jshint']            }        },        connect: {            rules: [{                from: '^(.(?!\\.(css|html|jpg|js|png|eot|otf|svg|ttf|woff|woff2)))*$',                to: '/index.html'            }],            options: {                port: sys.port,                hostname: sys.host,            },            app: {                options: {                    open: true,                    livereload: sys.liveReload,                    base: ['.tmp', 'app']                }            },            dist: {                options: {                    open: true,                    keepalive: true,                    base: 'dist'                }            }        },        clean: {            dist: {                files: [                    {                        dot: true,                        src: [                            '.tmp',                            'app/static/css/base.min.css',                            'dist/*',                            '!dist/.git*'                        ]                    }                ]            }        },        useminPrepare: {            html: 'app/index.html',            options: {                dest: 'dist'            }        },        usemin: {            html: ['dist/index.html'],            options: {                assetsDirs: ['dist']            }        },        rev: {            options: {                encoding: 'utf8',                algorithm: 'md5',                length: 4            },            dist: {                files: {                    src: [                        'dist/static/js/**/*.js',                        'dist/static/css/**/*.css'                    ]                }            }        },        htmlmin: {            dist: {                options: {                    collapseWhitespace: true,                    collapseBooleanAttributes: true,                    removeCommentsFromCDATA: true,                    removeOptionalTags: true                },                files: [                    {                        expand: true,                        cwd: 'dist',                        src: ['**/*.html'],                        dest: 'dist'                    }                ]            }        },        jshint: {            options: {                jshintrc: true            },            all: [                'Gruntfile.js',                'app/static/js/**/*.js'            ]        },        karma: {            options: {                configFile: 'test/karma.conf.js'            },            app: {                autoWatch: false,                browsers: ['PhantomJS'],                singleRun: true            }        }    });    grunt.registerTask('default', [        'clean',        //'jshint',        'useminPrepare',        //'copy:components',        //'copy:font',        //'copy:img',        //'concat',        //'cssmin',        //'copy:js',        'rev:dist',        'usemin',        'htmlmin'        //'copy:iconFont'    ]);};